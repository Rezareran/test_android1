<!DOCTYPE html>
<html>
  <head>
    <title>Acceleration Example</title>
    <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
    <script type="text/javascript" charset="utf-8" src="jquery.min.js"></script>
    <style>
        body{
            background: #000000;
            color: #ffffff;
        }
        button{
            display: block;
            background: red;
            color: #fff;
            border-radius: 50%;
            width: 100px;
            height: 100px;
            margin: 30px; auto;
        }
    </style>
      <script type="text/javascript">
          
          var audioCapture = '';
          
          document.addEventListener("deviceready", onDeviceReady, false);
          
          function onDeviceReady(){
            audioCapture = navigator.device.capture;
              
              $("#recordBtn").bind("touchstart",function(){
                getAudio();   
              });
          }
                                   
        function getAudio(){
            audtioCapture.captureAudio(oncaptureSuccess,onCaptureError,{limit: 1});    
        }
              
        function captureSuccess(audioObject){
            var i,output = '';
            for(i = 0;i<audioObject.length;i++){
                output += 'name: ' + audioObject[i].name + '<br/>' +
                    'full path: ' + audioObject[i].fullpath + '<br/>' +
                    'type: ' + audioObject[i].type + '<br/>' +
                    'created on: ' + new Date(audioObject[i].lastModifiedDate) + '<br/>' +
                    'size: ' + audioObject[i].size + '<br/>';
            }
            
            $("#recordBtn").before(output);
            
        }
          
        function onCaptureError(error){
            var errMsg;
            switch(error.code){
                case 0:
                    errMsg = "Mic failed to record";
                    break;
                case 1:
                    errMsg = "Recording app is currently busy";
                    break;
                case 2:
                    errMsg = "Invalid parameter"
                    break;
                case 3:
                    errMsg = "App was exited before recording was complete";
                    break;
                case 4:
                    errMsg = "Device does not support the audio capture request";
                    break;
            }
            alert(errMsg);
        }
        
      </script>
  </head>
  <body>
      <button id="recordBtn" >Record</button><br/>
  </body>
</html>